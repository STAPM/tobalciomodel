library(tobalciomodel)
help(package="tobalciomodel")
inputs <- final_demand_inputs()
library(tobalciomodel)
library(data.table)
inputs <- final_demand_inputs()
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
inputs
split <- runiform()
split <- runif()
split <- runif(1)
devtools::load_all()
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
library(tobalciomodel)
library(data.table)
library(dplyr)
inputs <- final_demand_inputs()
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
multipliers <- multipliers()
names(multipliers)
View(multipliers)
devtools::load_all()
library(tobalciomodel)
library(data.table)
library(dplyr)
### Select data and parameters
inputs <- final_demand_inputs()
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
### Extract the multipliers
multipliers <- multipliers()
names(multipliers)
policy_sim*multipliers[,"output.multipliers.type1"]
summary(multipliers)
multipliers$output.multipliers.type1 <- as.numeric(as.character(multipliers$output.multipliers.type1))
summary(multipliers)
names(multipliers)
devtools::load_all()
library(tobalciomodel)
library(data.table)
library(dplyr)
### Select data and parameters
inputs <- final_demand_inputs()
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
### Extract the multipliers
multipliers <- multipliers()
devtools::load_all()
library(tobalciomodel)
library(data.table)
library(dplyr)
### Select data and parameters
inputs <- final_demand_inputs()
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
### Extract the multipliers
multipliers <- multipliers()
devtools::load_all()
library(tobalciomodel)
library(data.table)
library(dplyr)
### Select data and parameters
inputs <- final_demand_inputs()
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
### Extract the multipliers
multipliers <- multipliers()
summary(multipliers)
policy_sim*multipliers[,"output.multipliers.type1"]
output.effects <- policy_sim*multipliers[,"output.multipliers.type1"]
output.effects <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
output.effects <- policy_sim*multipliers[,"output.multipliers.type1"]
output.effects
policy_sim
rm(list = ls())
library(tobalciomodel)
library(data.table)
library(dplyr)
### Select data and parameters
inputs <- final_demand_inputs()
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
### Extract the multipliers
multipliers <- multipliers()
### Output effects
output.effects <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
### Simulate a policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = FALSE)
### Extract the multipliers
multipliers <- multipliers()
### Output effects
output.effects <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
### see the effect of the random splitting of the on-trade
reps <- 1000
effects.vector <- rep(NA,1000)
for (i in 1:reps) {
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
effects.vector[i] <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
}
data <- data.frame(effects.vector)
names(data)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density()
library(tidyverse)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density()
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy")
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors")
### see the effect of the random splitting of the on-trade
reps <- 10000
effects.vector <- rep(NA,10000)
for (i in 1:reps) {
print(paste0("Simulation Iteration: ",i))
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
effects.vector[i] <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
}
library(tidyverse)
data <- data.frame(effects.vector)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors")
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors")
### see the effect of the random splitting of the on-trade
reps <- 100000
effects.vector <- rep(NA,100000)
for (i in 1:reps) {
print(paste0("Simulation Iteration: ",i))
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy = "exog",
on.trade.ch = rep(-0.1,5),
off.trade.ch = c(0,0,0,0,0),
reallocate = FALSE,
prob = TRUE)
effects.vector[i] <- sum(policy_sim*multipliers[,"output.multipliers.type1"])
}
library(tidyverse)
data <- data.frame(effects.vector)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors")
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors") +
scale_x_continuous(breaks - seq(-3.3,0.05,-2.9), minor_breaks = NULL)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors") +
scale_x_continuous(breaks = seq(-3.3,0.05,-2.9), minor_breaks = NULL)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.5) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors") +
scale_x_continuous(breaks = seq(-3.3,-2.9,0.05), minor_breaks = NULL)
ggplot(data=data) +
aes(x = effects.vector) +
geom_density(fill="navy",alpha=0.4) +
geom_vline(xintercept = output.effects) +
theme_minimal() +
labs(y = "Density",
x = "Effect on Output (£bn)",
title = "Effect of a 10% Fall in Consumption of On-Trade Alcohol Products",
subtitle = "Distribution of Effects when Varying Split Across Two On-Trade Sectors") +
scale_x_continuous(breaks = seq(-3.3,-2.9,0.05), minor_breaks = NULL)
