prices.data <- data.frame(year,price,price.per.cig)
tobacco <- merge(merge5,prices.data,by="year",all=TRUE)
tobacco
tobacco <- tobacco[,-c("ryo.prop","fm.prop","FM.ncigs","RYO.ncigs")]
tobacco <- tobacco[,-c(ryo.prop,fm.prop,FM.ncigs,RYO.ncigs)]
tobacco <- tobacco[,-c(6:9)]
tobacco
tobacco$expenditure <- tobacco$consumption/tobacco$price.per.cig
View(tobacco)
tobacco <- merge(merge5,prices.data,by="year",all=TRUE)
library(readxl)
library(dplyr)
####### POPULATION DATA
population  <- read_excel("data-raw/mesas-monitoring-report-2020-alcohol-sales-price-and-affordability.xlsx",
sheet = "Population data",
range = "B5:D26",
col_names = FALSE)
population <- population %>%
mutate(population = ...2 + ...3) %>%
rename(year = ...1) %>%
filter(year >= 2000) %>%
select(year,population)
####### CONSUMPTION TRENDS
### note this is UK consumption, other data is just GB so will need to adjust
### (for now a quick google search says in 2017 NI was 2.1% of UK GDP, adjust consumption
### in line with this)
consumption <- read_excel("data-raw/consumertrendsq12020cvmsa.xls",
sheet = "02KS",
range = "A13:G35",
col_names = FALSE)
consumption <- consumption[,c(1,7)] %>%
rename(year = ...1,
expenditure = ...7) %>%
mutate(expenditure = expenditure*1000000) %>%  # convert from millions into pound units
mutate(expenditure.gb = expenditure*0.98) %>%
filter(year >= 2000)
####### SMOKING HABITS
### prevalance
habits.prevalance <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 1",
range = "A27:U46",
col_names = FALSE)
habits.prevalance <- habits.prevalance[,c(1,21)] %>%
rename(year = ...1) %>%
mutate(prevalance = ...21/100) %>%
select(year,prevalance)
habits.prevalance$year <- as.numeric(substr(habits.prevalance$year,1,4))
### number of cigarettes smoked
habits.ncigs <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 4",
range = "A27:U48",
col_names = FALSE)
habits.ncigs <- habits.ncigs[-c(19,20),c(1,21)] %>%
rename(year = ...1,
ncigs = ...21)
habits.ncigs$year <- as.numeric(substr(habits.ncigs$year,1,4))
### RYO vs FM
habits.type <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 5",
range = "A11:O16",
col_names = FALSE)
habits.type <- habits.type %>%
rename(year = ...1) %>%
mutate(ryo.prop = (...13+...15)/100) %>%
mutate(fm.prop = (...12+...14)/100) %>%
select(year,ryo.prop,fm.prop)
### HMRC quantity data
hmrc <- read_excel("data-raw/hmrc tobacco bulletin.xlsx",
range = "B20:L24",
col_names = FALSE)
hmrc <- hmrc %>%
rename(year = ...1,
FM.ncigs = ...6) %>%
mutate(FM.ncigs = FM.ncigs*1000000) %>% # convert FM from millions of sticks, to sticks
mutate(...9 = ...9*1000000) %>% # convert RYO from 1000kg to grams of tobacco
mutate(RYOpack20 = ...9/12.5) %>% # convert RYO from grams into packs of 20 FM (pack of 20 = 12.5)
mutate(RYO.ncigs = RYOpack20/20) %>% # convert RYO from packs to sticks
select(year,FM.ncigs,RYO.ncigs)
######## MERGE into one data frame
merge1 <- merge(population,consumption,by="year")
merge2 <- merge(merge1,habits.prevalance,by="year")
merge3 <- merge(merge2,habits.ncigs,by="year")
merge4 <- merge(merge3,habits.type,by="year",all = TRUE)
merge5 <- merge(merge4,hmrc,by="year",all = TRUE)
rm(consumption,habits.prevalance,habits.ncigs,habits.type,population,merge1,merge2,merge3,merge4)
View(merge5)
ibrary(readxl)
library(dplyr)
####### POPULATION DATA
population  <- read_excel("data-raw/mesas-monitoring-report-2020-alcohol-sales-price-and-affordability.xlsx",
sheet = "Population data",
range = "B5:D26",
col_names = FALSE)
population <- population %>%
mutate(population = ...2 + ...3) %>%
rename(year = ...1) %>%
filter(year >= 2000) %>%
select(year,population)
####### CONSUMPTION TRENDS
### note this is UK consumption, other data is just GB so will need to adjust
### (for now a quick google search says in 2017 NI was 2.1% of UK GDP, adjust consumption
### in line with this)
consumption <- read_excel("data-raw/consumertrendsq12020cvmsa.xls",
sheet = "02KS",
range = "A13:G35",
col_names = FALSE)
consumption <- consumption[,c(1,7)] %>%
rename(year = ...1,
expenditure = ...7) %>%
mutate(expenditure = expenditure*1000000) %>%  # convert from millions into pound units
mutate(expenditure.gb = expenditure*0.98) %>%
filter(year >= 2000) %>%
select(year,expenditure.gb)
####### SMOKING HABITS
### prevalance
habits.prevalance <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 1",
range = "A27:U46",
col_names = FALSE)
habits.prevalance <- habits.prevalance[,c(1,21)] %>%
rename(year = ...1) %>%
mutate(prevalance = ...21/100) %>%
select(year,prevalance)
habits.prevalance$year <- as.numeric(substr(habits.prevalance$year,1,4))
### number of cigarettes smoked
habits.ncigs <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 4",
range = "A27:U48",
col_names = FALSE)
habits.ncigs <- habits.ncigs[-c(19,20),c(1,21)] %>%
rename(year = ...1,
ncigs = ...21)
habits.ncigs$year <- as.numeric(substr(habits.ncigs$year,1,4))
### RYO vs FM
habits.type <- read_excel("data-raw/adultsmokinghabitsingreatbritain2019final.xls",
sheet = "Table 5",
range = "A11:O16",
col_names = FALSE)
habits.type <- habits.type %>%
rename(year = ...1) %>%
mutate(ryo.prop = (...13+...15)/100) %>%
mutate(fm.prop = (...12+...14)/100) %>%
select(year,ryo.prop,fm.prop)
### HMRC quantity data
hmrc <- read_excel("data-raw/hmrc tobacco bulletin.xlsx",
range = "B20:L24",
col_names = FALSE)
hmrc <- hmrc %>%
rename(year = ...1,
FM.ncigs = ...6) %>%
mutate(FM.ncigs = FM.ncigs*1000000) %>% # convert FM from millions of sticks, to sticks
mutate(...9 = ...9*1000000) %>% # convert RYO from 1000kg to grams of tobacco
mutate(RYOpack20 = ...9/12.5) %>% # convert RYO from grams into packs of 20 FM (pack of 20 = 12.5)
mutate(RYO.ncigs = RYOpack20/20) %>% # convert RYO from packs to sticks
select(year,FM.ncigs,RYO.ncigs)
######## MERGE into one data frame
merge1 <- merge(population,consumption,by="year")
merge2 <- merge(merge1,habits.prevalance,by="year")
merge3 <- merge(merge2,habits.ncigs,by="year")
merge4 <- merge(merge3,habits.type,by="year",all = TRUE)
merge5 <- merge(merge4,hmrc,by="year",all = TRUE)
rm(consumption,habits.prevalance,habits.ncigs,habits.type,population,merge1,merge2,merge3,merge4)
year <- seq(2003,2019,1)
price <- c(NA,NA,4.82,5.05,5.33,5.44,5.67,6.13,6.63,7.09,7.72,8.23,9.16,9.40,9.91,NA,NA)
# use CPI price index to fill in missing
price[1]  <- price[13]*0.488
price[2]  <- price[13]*0.506
price[16] <- price[13]*1.191
price[17] <- price[13]*1.257
price <- round(price,2)
price.per.cig <- price/20
prices.data <- data.frame(year,price,price.per.cig)
############################################
####### Merge into one data frame
tobacco <- merge(merge5,prices.data,by="year",all=TRUE)
tobacco <- tobacco %>%
select(-c(ryo.prop,RYO.ncigs,fm.prop,FM.ncigs)) %>%
rename(expenditure = expenditure.gb) %>%
mutate(consumption = expenditure/price.per.cig)
View(tobacco)
tobacco_data <- tobacco %>%
select(-c(ryo.prop,RYO.ncigs,fm.prop,FM.ncigs)) %>%
rename(expenditure = expenditure.gb) %>%
mutate(consumption = expenditure/price.per.cig)
usethis::use_data(tobacco_data,overwrite = TRUE)
tobacco <- merge(merge5,prices.data,by="year",all=TRUE)
tobacco_data <- tobacco %>%
select(-c(ryo.prop,RYO.ncigs,fm.prop,FM.ncigs)) %>%
rename(expenditure = expenditure.gb) %>%
mutate(consumption = expenditure/price.per.cig)
usethis::use_data(tobacco_data,overwrite = TRUE)
tobacco_data
numsmokers <- tobacco_data$population*tobacco_data$prevalance
numsmokers
exp.pc <- tobacco_data$expenditure/numsmokers
exp.pc
price <- exp.pc/(ncigs*365)
price <- exp.pc/(tobacco_data$ncigs*365)
price
numperyear <- tobacco_data$consumption/tobacco_data$population
numperyear/365
rm(list = ls())
hmrc <- read_excel("data-raw/hmrc tobacco bulletin.xlsx",
range = "B20:L24",
col_names = FALSE)
hmrc <- hmrc %>%
rename(year = ...1,
FM.ncigs = ...6) %>%
mutate(FM.ncigs = FM.ncigs*1000000) %>% # convert FM from millions of sticks, to sticks
mutate(...9 = ...9*1000000) %>% # convert RYO from 1000kg to grams of tobacco
mutate(RYOpack20 = ...9/12.5) %>% # convert RYO from grams into packs of 20 FM (pack of 20 = 12.5)
mutate(RYO.ncigs = RYOpack20/20) %>% # convert RYO from packs to sticks
select(year,FM.ncigs,RYO.ncigs)
View(hmrc)
elasticity_ontrade_meng14 <- c(-0.79,-0.59,-0.87,-0.89,-0.19)
elasticity_offtrade_meng14 <- c(-0.98,-1.27,-0.38,-0.08,-0.59)
elasticities_meng14 <- matrix(c("Beer","Cider","Wine","Spirits","RTDs",
elasticity_ontrade_meng14,
elasticity_offtrade_meng14,
rep("Meng et al. 2014",5)),
ncol=4,
byrow=FALSE,
dimnames = list(NULL,
c("product","On-Trade","Off-Trade","Source"))
)
elasticities_meng14
elasticity <- c(gallus06,czubeck10)
product <- c("Cigarettes","Cigarettes")
source <- c("Gallus et al. 2006","Czubeck & Johal 2010")
gallus06 <- -0.46
## An HMRC study - select their preferred model
## http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.307.8455&rep=rep1&type=pdf
czubeck10 <- -1.05
elasticity <- c(gallus06,czubeck10)
elasticities_tob <- matrix(c(product,elasticity,source),
ncol=3,
byrow=FALSE,
dimnames = list(NULL,
c("product","Elasticity","Source"))
)
elasticities_tob
elasticities_tob <- data.frame(elasticities_tob)
elasticities_tob$Elasticity <- as.numeric(as.character(elasticities_tob$Elasticity))
View(elasticities_tob)
usethis::use_data(elasticities_tob,overwrite=TRUE)
devtools::document()
devtools::document()
sectors
sectors()
devtools::document
devtools::document()
devtools::document()
library(tobalciomodel)
### Read in the MESAS population, consumption, and price data
library(readxl)
library(dplyr)
#### England and Wales Data ------------------------
## YEAR AND PRODUCT IDENTIFIERS
year <- rep(seq(1994,2019,1),each=9)
product <- rep(c("Total","Spirits","RTDs","Fortified Wines","Wine","Other","Cider","Perry","Beer"),2019-1994+1)
## TOTAL CONSUMED IN 000s OF LITRES
# consumption data - volume of pure alcohol (1000L). (on trade)
litres.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "C5:AB13",
col_names = FALSE)
litres.data <- as.matrix(litres.data)
litres.data <- round(as.numeric(litres.data),2)
litres.ontrade <- as.vector(matrix(litres.data,ncol=1))
# consumption data - volume of pure alcohol (1000L). (off trade)
litres.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "AE5:BD13",
col_names = FALSE)
litres.data <- as.matrix(litres.data)
litres.data <- round(as.numeric(litres.data),2)
litres.offtrade <- as.vector(matrix(litres.data,ncol=1))
### UNITS CONSUMED PER PERSON
# consumption data - units per person. (on trade)
units.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "C31:AB39",
col_names = FALSE)
units.data <- as.matrix(units.data)
units.data <- round(as.numeric(units.data),2)
units.pp.ontrade <- as.vector(matrix(units.data,ncol=1))
# consumption data - units per person. (off trade)
units.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "AE31:BD39",
col_names = FALSE)
units.data <- as.matrix(units.data)
units.data <- round(as.numeric(units.data),2)
units.pp.offtrade <- as.vector(matrix(units.data,ncol=1))
### PRICES PER UNIT
# price data - average price per unit sold (on trade)
prices.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "C44:AB52",
col_names = FALSE)
prices.data <- as.matrix(prices.data)
prices.data <- round(as.numeric(prices.data),2)
price.ontrade <- as.vector(matrix(prices.data,ncol=1))
# price data - average price per unit sold (off trade)
prices.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "England & Wales data",
range = "AE44:BD52",
col_names = FALSE)
prices.data <- as.matrix(prices.data)
prices.data <- round(as.numeric(prices.data),2)
price.offtrade <- as.vector(matrix(prices.data,ncol=1))
###POPULATION DATA
population <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Population data",
range = "B5:D26",
col_names = FALSE)
population <- data.frame(population) %>%
rename(year = ...1,
population = ...3) %>%
select(year,population) %>%
filter(year >= 2000)
### COMBINE DATA INTO ONE FRAME
data <- data.frame(year,product,
litres.ontrade,litres.offtrade,
units.pp.ontrade,units.pp.offtrade,
price.ontrade,price.offtrade)
## from 2015 impute RTD units per person in the on-trade as equal to the entire "other category"
## (RTD is merged into other with fortified wines and perry from this year onwards. Assume these other 2 = 0)
imp.values <- c(data[year==2015 & product == "Other","units.pp.ontrade"],
data[year==2016 & product == "Other","units.pp.ontrade"],
data[year==2017 & product == "Other","units.pp.ontrade"],
data[year==2018 & product == "Other","units.pp.ontrade"],
data[year==2019 & product == "Other","units.pp.ontrade"]
)
library(data.table)
data <- data.table(data)
data[year==2015 & product == "RTDs",units.pp.ontrade :=  imp.values[1]]
data[year==2016 & product == "RTDs",units.pp.ontrade :=  imp.values[2]]
data[year==2017 & product == "RTDs",units.pp.ontrade :=  imp.values[3]]
data[year==2018 & product == "RTDs",units.pp.ontrade :=  imp.values[4]]
data[year==2019 & product == "RTDs",units.pp.ontrade :=  imp.values[5]]
data <- data %>%
filter(year >= 2000) %>%
filter(product != "Other")
data_mesas_englandwales <- merge(data,population) %>%
mutate(consumption.ontrade = (price.ontrade*units.pp.ontrade*population)/1000000 ) %>%
mutate(consumption.offtrade = (price.offtrade*units.pp.offtrade*population)/1000000 )
data_mesas_englandwales$country <- "England & Wales"
rm(year,data,population,imp.values,litres.data,litres.offtrade,litres.ontrade,
price.offtrade,price.ontrade,prices.data,product,units.data,units.pp.offtrade,units.pp.ontrade)
#### Scottish Data ------------------------
#####################################################
############ YEAR AND PRODUCT IDENTIFIERS ###########
year <- rep(seq(1994,2019,1),each=9)
product <- rep(c("Total","Spirits","RTDs","Fortified Wines","Wine","Other","Cider","Perry","Beer"),2019-1994+1)
#####################################################
######## TOTAL CONSUMED IN 000s OF LITRES ###########
# consumption data - volume of pure alcohol (1000L). (on trade)
litres.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "C5:AB13",
col_names = FALSE)
litres.data <- as.matrix(litres.data)
litres.data <- round(as.numeric(litres.data),2)
litres.ontrade <- as.vector(matrix(litres.data,ncol=1))
# consumption data - volume of pure alcohol (1000L). (off trade)
litres.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "AE5:BD13",
col_names = FALSE)
litres.data <- as.matrix(litres.data)
litres.data <- round(as.numeric(litres.data),2)
litres.offtrade <- as.vector(matrix(litres.data,ncol=1))
#####################################################
############ UNITS CONSUMED PER PERSON ##############
# consumption data - units per person. (on trade)
units.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "C31:AB39",
col_names = FALSE)
units.data <- as.matrix(units.data)
units.data <- round(as.numeric(units.data),2)
units.pp.ontrade <- as.vector(matrix(units.data,ncol=1))
# consumption data - units per person. (off trade)
units.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "AE31:BD39",
col_names = FALSE)
units.data <- as.matrix(units.data)
units.data <- round(as.numeric(units.data),2)
units.pp.offtrade <- as.vector(matrix(units.data,ncol=1))
#####################################################
############ PRICES PER UNIT ########################
# price data - average price per unit sold (on trade)
prices.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "C44:AB52",
col_names = FALSE)
prices.data <- as.matrix(prices.data)
prices.data <- round(as.numeric(prices.data),2)
price.ontrade <- as.vector(matrix(prices.data,ncol=1))
# price data - average price per unit sold (off trade)
prices.data <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Scotland data",
range = "AE44:BD52",
col_names = FALSE)
prices.data <- as.matrix(prices.data)
prices.data <- round(as.numeric(prices.data),2)
price.offtrade <- as.vector(matrix(prices.data,ncol=1))
#####################################################
############ POPULATION DATA ########################
population <- read_excel(path = paste0("data-raw/","mesas-monitoring-report-2020-alcohol-sales-price-and-affordability",".xlsx"),
sheet = "Population data",
range = "B5:C26",
col_names = FALSE)
population <- data.frame(population) %>%
rename(year = ...1,
population = ...2) %>%
filter(year >= 2000)
#####################################################
######### COMBINE DATA INTO ONE FRAME ###############
data <- data.frame(year,product,
litres.ontrade,litres.offtrade,
units.pp.ontrade,units.pp.offtrade,
price.ontrade,price.offtrade)
## from 2015 impute RTD units per person in the on-trade as equal to the entire "other category"
## (RTD is merged into other with fortified wines and perry from this year onwards. Assume these other 2 = 0)
imp.values <- c(data[year==2015 & product == "Other","units.pp.ontrade"],
data[year==2016 & product == "Other","units.pp.ontrade"],
data[year==2017 & product == "Other","units.pp.ontrade"],
data[year==2018 & product == "Other","units.pp.ontrade"],
data[year==2019 & product == "Other","units.pp.ontrade"]
)
library(data.table)
data <- data.table(data)
data[year==2015 & product == "RTDs",units.pp.ontrade :=  imp.values[1]]
data[year==2016 & product == "RTDs",units.pp.ontrade :=  imp.values[2]]
data[year==2017 & product == "RTDs",units.pp.ontrade :=  imp.values[3]]
data[year==2018 & product == "RTDs",units.pp.ontrade :=  imp.values[4]]
data[year==2019 & product == "RTDs",units.pp.ontrade :=  imp.values[5]]
data <- data %>%
filter(year >= 2000) %>%
filter(product != "Other")
data_mesas_scotland <- merge(data,population) %>%
mutate(consumption.ontrade = (price.ontrade*units.pp.ontrade*population)/1000000 ) %>%
mutate(consumption.offtrade = (price.offtrade*units.pp.offtrade*population)/1000000 )
data_mesas_scotland$country <- "Scotland"
rm(year,data,population,imp.values,litres.data,litres.offtrade,litres.ontrade,
price.offtrade,price.ontrade,prices.data,product,units.data,units.pp.offtrade,units.pp.ontrade)
####### COMBINE ENGLAND AND WALES WITH SCOTLAND
alcohol_data <- rbind(data_mesas_englandwales,data_mesas_scotland)
usethis::use_data(alcohol_data,overwrite=TRUE)
devtools::document()
library(tobalciomodel)
### create dataset of elasticities
elasticity_ontrade_meng14 <- c(-0.79,-0.59,-0.87,-0.89,-0.19)
elasticity_offtrade_meng14 <- c(-0.98,-1.27,-0.38,-0.08,-0.59)
elasticities_meng14 <- matrix(c("Beer","Cider","Wine","Spirits","RTDs",
elasticity_ontrade_meng14,
elasticity_offtrade_meng14,
rep("Meng et al. 2014",5)),
ncol=4,
byrow=FALSE,
dimnames = list(NULL,
c("product","On-Trade","Off-Trade","Source"))
)
elasticity_ontrade_collis10 <- c(-0.77,-0.85,-0.46,-1.15,-0.91)
elasticity_offtrade_collis10 <- c(-1.10,-1.13,-0.54,-0.9,-0.93)
elasticities_collis10 <- matrix(c("Beer","Cider","Wine","Spirits","RTDs",
elasticity_ontrade_collis10,
elasticity_offtrade_collis10,
rep("Collis et al. 2010",5)),
ncol=4,
byrow=FALSE,
dimnames = list(NULL,
c("product","On-Trade","Off-Trade","Source"))
)
elasticities_alc <- data.frame(rbind(elasticities_meng14,elasticities_collis10))
elasticities_alc$On.Trade  <- as.numeric(as.character(elasticities_alc$On.Trade))
elasticities_alc$Off.Trade <- as.numeric(as.character(elasticities_alc$Off.Trade))
usethis::use_data(elasticities_alc,overwrite=TRUE)
devtools::document()
names(elasticities_tob)
devtools::document()
names(tobacco_data)
library(tobalciomodel)
library(tobalciomodel)
scenario <- select_scenario(5)
alcohol <- ifelse(scenario[["alc.policy"]] %in% c("exog","MUP","tax"),TRUE,FALSE)
inputs <- final_demand_inputs_alc(yr =         scenario[["year"]],
scotland =   scenario[["scotland"]],
elasticity = scenario[["elasticity"]])
### Simulate the alcohol policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy   = scenario[["alc.policy"]],
on.trade.ch  = scenario[["alc.on.ex"]],
off.trade.ch = scenario[["alc.off.ex"]],
prob = FALSE)
multipliers <- multipliers(yr =    scenario[["year"]],
empl =  scenario[["emp.measure"]])
if (alcohol == TRUE) {
### Extract relevant data and parameters for the chosen scenario
inputs <- final_demand_inputs_alc(yr =         scenario[["year"]],
scotland =   scenario[["scotland"]],
elasticity = scenario[["elasticity"]])
### Simulate the alcohol policy
policy_sim <- simulate_alcohol_policy(data = inputs,
alc.policy   = scenario[["alc.policy"]],
on.trade.ch  = scenario[["alc.on.ex"]],
off.trade.ch = scenario[["alc.off.ex"]],
prob = FALSE)
}
